<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Louis Mas — Portfolio. Director and Photographer based in London.">
    <title>LOUIS MAS — WORK</title>

    <!-- SPEED OPTIMIZATION: Preconnect to Bunny.net servers -->
    <link rel="preconnect" href="https://player.mediadelivery.net">

    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --color-bg: #000000;
            --color-text: #EFEFEF;
            --color-accent: #1A1A1A;
            --font-main: 'IBM Plex Mono', monospace;
            --header-height: 48px;
            --spacing: 20px;
        }

        /* RESET & BASE */
        * { box-sizing: border-box; margin: 0; padding: 0; cursor: none !important; }
        html, body { min-height: 100%; scroll-behavior: smooth; }
        body {
            background-color: var(--color-bg);
            color: var(--color-text);
            font-family: var(--font-main);
            line-height: 1.2;
            overflow-x: hidden;
            font-size: clamp(0.9rem, 1.1vw, 1.1rem);
        }
        a { color: inherit; text-decoration: none; }
        img { display: block; max-width: 100%; }

        /* CUSTOM CURSOR */
        #custom-cursor {
            position: fixed; top: 0; left: 0; width: 20px; height: 20px; pointer-events: none;
            z-index: 9999; transform: translate(-50%, -50%); mix-blend-mode: difference;
        }
        #custom-cursor::before, #custom-cursor::after {
            content: ''; position: absolute; top: 50%; left: 50%; background-color: #FFF;
            transform: translate(-50%, -50%); transition: all 0.2s ease;
        }
        #custom-cursor::before { width: 2px; height: 100%; }
        #custom-cursor::after { width: 100%; height: 2px; }
        body.hovering #custom-cursor::before { width: 4px; }
        body.hovering #custom-cursor::after { height: 4px; }

        /* NAVIGATION */
        .header-nav {
            position: fixed; top: 0; left: 0; width: 100%; height: var(--header-height);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 var(--spacing); z-index: 100;
            font-size: clamp(0.9rem, 1.2vw, 1.2rem);
            font-weight: 700;
            mix-blend-mode: difference; color: #FFF;
        }
        .header-nav nav a { margin-left: 20px; }

        /* PROJECT LIST */
        .project-block {
            display: block; position: relative; width: 100%;
            aspect-ratio: 16 / 9;
            overflow: hidden; border-bottom: 1px solid var(--color-accent);
            /* PERFORMANCE: Skip rendering off-screen content */
            content-visibility: auto;
            contain-intrinsic-size: 16/9;
        }
        /* Ensure the first block is always rendered */
        .project-block:first-of-type { content-visibility: visible; }

        .media-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #111; }

        /* UX OPTIMIZATION: Smooth fade-in for iframes */
        .media-container iframe {
            width: 100%; height: 100%; border: 0; pointer-events: none; position: absolute; top:0; left:0;
            opacity: 0; transition: opacity 1s ease-in-out;
        }
        .media-container iframe.loaded { opacity: 1; }

        /* Updated image style for smooth fade out */
        .media-container img {
            width: 100%; height: 100%; object-fit: cover;
            transition: opacity 0.8s ease-out;
        }

        /* PROJECT OVERLAYS */
        .project-title {
            position: absolute; top: var(--spacing); left: var(--spacing); z-index: 10; pointer-events: none;
        }
        .project-title h2 {
            font-size: clamp(3rem, 7vw, 7.5rem); line-height: 0.9; font-weight: 700; margin: 0;
            text-shadow: 0 0 20px rgba(0,0,0,0.5);
        }
        .project-subtitle {
            font-size: clamp(0.9rem, 1.5vw, 1.2rem); margin-left: 5px; opacity: 0.9; text-transform: uppercase;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        .cta-label {
            position: absolute; bottom: var(--spacing); right: var(--spacing); z-index: 10;
            font-weight: 700; text-shadow: 0 0 10px rgba(0,0,0,0.5);
            font-size: clamp(0.9rem, 1.1vw, 1.1rem);
        }

        /* INFO SECTION */
        .info-section {
            background-color: #F5F5F5; color: #1A1A1A;
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px;
            padding: 60px var(--spacing); border-bottom: 1px solid #1A1A1A;
            content-visibility: auto; /* Optimize info section too */
        }
        .info-col h3 {
            font-weight: 700; margin-bottom: 20px;
            font-size: clamp(1rem, 1.3vw, 1.3rem);
        }
        .info-col a {
            display: block; margin-bottom: 5px; border-bottom: 1px solid #1A1A1A; width: fit-content;
            font-size: clamp(0.9rem, 1.1vw, 1.1rem);
        }
        .info-col a:hover { background: #1A1A1A; color: #F5F5F5; }

        /* FOOTER */
        .footer {
            background: #F5F5F5; color: #1A1A1A; padding: var(--spacing);
            font-size: clamp(0.7rem, 0.9vw, 0.9rem);
            display: flex; justify-content: space-between; align-items: center; height: var(--header-height);
        }

        /* INFO OVERLAY */
        .info-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #F5F5F5; color: #1A1A1A; z-index: 2000; padding: var(--spacing);
            display: none; flex-direction: column; overflow-y: auto;
        }
        .info-overlay.active { display: flex; }

        .overlay-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; font-weight: 700; font-size: clamp(0.9rem, 1.2vw, 1.2rem); }
        .header-left-group { display: flex; align-items: center; gap: 20px; }
        .lang-switch { display: flex; gap: 10px; user-select: none; }
        .lang-option { opacity: 0.4; transition: opacity 0.2s; cursor: none; }
        .lang-option:hover, .lang-option.active { opacity: 1; text-decoration: underline; }
        .close-btn { cursor: none; border-bottom: 1px solid transparent; }
        .close-btn:hover { border-bottom: 1px solid #1A1A1A; }
        .overlay-content { display: grid; grid-template-columns: 1fr 1.5fr; gap: 60px; max-width: 1400px; margin: 0 auto; width: 100%; }
        .overlay-content img { width: 100%; height: auto; }
        .bio-text { display: flex; flex-direction: column; gap: 60px; }
        .bio-block { display: flex; gap: 40px; }
        .bio-label { min-width: 180px; font-weight: 700; flex-shrink: 0; font-size: clamp(1rem, 1.3vw, 1.3rem); }
        .bio-desc { line-height: 1.5; font-size: clamp(1rem, 1.2vw, 1.2rem); }
        .bio-desc p { margin-bottom: 1em; }
        .bio-desc a { border-bottom: 1px solid #1A1A1A; }
        .bio-desc a:hover { background: #1A1A1A; color: #F5F5F5; }
        .guest-list { list-style: none; padding: 0; margin-top: 10px; display: flex; flex-direction: column; gap: 5px; }

        /* HOVER PREVIEW */
        #hover-preview {
            position: fixed; display: none; width: 250px; z-index: 3000; pointer-events: none;
            border: 1px solid #1A1A1A; background: #FFF;
        }

        @media (max-width: 768px) {
            .info-section, .overlay-content, .bio-block { grid-template-columns: 1fr; gap: 30px; }
            .bio-block { flex-direction: column; gap: 10px; }

            /* UPDATED: Significantly smaller titles on mobile */
            .project-title h2 { font-size: clamp(1.5rem, 5vw, 3rem); }
            .project-subtitle { font-size: 0.8rem; }

            .header-nav { font-size: 0.9rem; }
            #hover-preview { display: none !important; }

            /* MOBILE FOOTER FIXES */
            .footer { justify-content: center; }
            #dateDisplay { display: none; }
        }
    </style>
</head>
<body>
    <div id="custom-cursor"></div>

    <header class="header-nav">
        <a href="index.html">LOUIS MAS</a>
        <nav>
            <a href="#" id="openInfo">INFO</a>
            <a href="mailto:louismas@tuta.com">EMAIL</a>
            <a href="https://www.instagram.com/louis__mas" target="_blank">IG</a>
        </nav>
    </header>

    <!-- HEADER VIDEO (Loads immediately, fades in) -->
    <div class="project-block" id="project-one">
        <div class="media-container">
            <iframe src="https://player.mediadelivery.net/embed/551229/a8f9e39b-6ed2-4f8f-98a3-afd1a6007b00?autoplay=true&loop=true&muted=true" allow="autoplay; fullscreen" allowfullscreen onload="this.classList.add('loaded')"></iframe>
        </div>
    </div>

    <!-- INFO SECTION -->
    <section class="info-section">
        <div class="info-col">
            <h3>CONTACT</h3>
            <a href="mailto:louismas@tuta.com">louismas[at]tuta.com</a>
            <a href="https://instagram.com" target="_blank" data-thumb="instagram_thumbnail">Instagram</a>
        </div>
        <div class="info-col">
            <a href="#dont-wake" data-thumb="dont_wake_the_sleeping_child_thumbnail">DON'T WAKE THE SLEEPING CHILD</a>
            <a href="#sam-harry" data-thumb="sam_harry_macgregor_thumbnail">SAM HARRY MACGREGOR</a>
            <a href="#open-house" data-thumb="open_house_thumbnail">OPEN HOUSE MAGAZINE</a>
            <a href="#avant-arte" data-thumb="avant_arte_thumbnail">AVANT ARTE</a>
        </div>
        <div class="info-col">
            <a href="#sometimes" data-thumb="sometimes_thumbnail">SOMETIMES</a>
            <a href="#beaugan" data-thumb="beaugan_thumbnail">BEAUGAN</a>
            <a href="#marguo" data-thumb="marguo_thumbnail">MARGUO GALLERY</a>
            <a href="#all-star" data-thumb="all_star_thumbnail">ALL STAR</a>
        </div>
    </section>

    <!-- PROJECT BLOCKS (Smart Lazy Loading + Fade In) -->

    <a href="dont-wake-the-sleeping-child.html" class="project-block" id="dont-wake">
        <div class="media-container lazy-video-container" data-video="https://player.mediadelivery.net/embed/551229/bfacb1a4-91fc-4743-94fa-dbfed1ed834f?autoplay=true&loop=true&muted=true">
            <img src="assets/dont_wake_the_sleeping_child_thumbnail.jpg" alt="Don't Wake The Sleeping Child" loading="lazy">
        </div>
        <div class="project-title">
            <h2>DON'T WAKE THE SLEEPING CHILD</h2>
            <div class="project-subtitle">NARRATIVE</div>
        </div>
        <div class="cta-label">WATCH FILM ></div>
    </a>

    <a href="sam-harry-macgregor.html" class="project-block" id="sam-harry">
        <div class="media-container">
            <img src="assets/sam_harry_macgregor_04.jpg" alt="Sam Harry Macgregor" loading="lazy">
        </div>
        <div class="project-title">
            <h2>SAM HARRY MACGREGOR</h2>
            <div class="project-subtitle">STILLS</div>
        </div>
        <div class="cta-label">VIEW PROJECT ></div>
    </a>

    <a href="open-house-magazine.html" class="project-block" id="open-house">
        <div class="media-container lazy-video-container" data-video="https://player.mediadelivery.net/embed/551229/ab6ae832-debe-4c75-bdff-30494c8770cc?autoplay=true&loop=true&muted=true">
            <img src="assets/open_house_thumbnail.jpg" alt="Open House Magazine" loading="lazy">
        </div>
        <div class="project-title">
            <h2>OPEN HOUSE MAGAZINE</h2>
            <div class="project-subtitle">DOCUMENTARY</div>
        </div>
        <div class="cta-label">WATCH FILM ></div>
    </a>

    <a href="avant-arte-david-rudnick.html" class="project-block" id="avant-arte">
        <div class="media-container">
            <img src="assets/avant_arte_david_rudnick_01.jpg" alt="Avant Arte" loading="lazy">
        </div>
        <div class="project-title">
            <h2>AVANT ARTE + DAVID RUDNICK</h2>
            <div class="project-subtitle">STILLS</div>
        </div>
        <div class="cta-label">VIEW PROJECT ></div>
    </a>

    <a href="sometimes-manast-ll.html" class="project-block" id="sometimes">
        <div class="media-container lazy-video-container" data-video="https://player.mediadelivery.net/embed/551229/4d44f912-8d72-4889-b07e-061c6b52ff1a?autoplay=true&loop=true&muted=true">
            <img src="assets/sometimes_thumbnail.jpg" alt="Sometimes" loading="lazy">
        </div>
        <div class="project-title">
            <h2>SOMETIMES</h2>
            <div class="project-subtitle">MUSIC VIDEO</div>
        </div>
        <div class="cta-label">WATCH FILM ></div>
    </a>

    <a href="beaugan.html" class="project-block" id="beaugan">
        <div class="media-container lazy-video-container" data-video="https://player.mediadelivery.net/embed/551229/79a40d60-974f-4ae1-bb22-f2309432ecf1?autoplay=true&loop=true&muted=true">
            <img src="assets/beaugan_thumbnail.jpg" alt="Beaugan" loading="lazy">
        </div>
        <div class="project-title">
            <h2>BEAUGAN</h2>
            <div class="project-subtitle">FASHION FILM</div>
        </div>
        <div class="cta-label">WATCH FILM ></div>
    </a>

    <a href="marguo-gallery.html" class="project-block" id="marguo">
        <div class="media-container lazy-video-container" data-video="https://player.mediadelivery.net/embed/551229/f4b15004-de6f-405f-b338-2dc44d200935?autoplay=true&loop=true&muted=true">
            <img src="assets/marguo_thumbnail.jpg" alt="Marguo Gallery" loading="lazy">
        </div>
        <div class="project-title">
            <h2>MARGUO GALLERY</h2>
            <div class="project-subtitle">ART FILM</div>
        </div>
        <div class="cta-label">WATCH FILM ></div>
    </a>

    <a href="all-star-manast-ll.html" class="project-block" id="all-star">
        <div class="media-container lazy-video-container" data-video="https://player.mediadelivery.net/embed/551229/5d61d0b6-3af8-499b-a761-f7bfb2310faf?autoplay=true&loop=true&muted=true">
            <img src="assets/all_star_thumbnail.jpg" alt="All Star" loading="lazy">
        </div>
        <div class="project-title">
            <h2>ALL STAR</h2>
            <div class="project-subtitle">MUSIC VIDEO</div>
        </div>
        <div class="cta-label">WATCH FILM ></div>
    </a>

    <footer class="footer">
        <div id="dateDisplay"></div>
        <div>&copy; 2025 All Rights Reserved</div>
    </footer>

    <!-- INFO OVERLAY -->
    <div class="info-overlay" id="infoOverlay">
        <div class="overlay-header">
            <div class="header-left-group">
                <div>INFO</div>
                <div class="lang-switch">
                    <span id="btn-en" class="lang-option active">EN</span>
                    <span id="btn-fr" class="lang-option">FR</span>
                </div>
            </div>
            <div class="close-btn" id="closeInfo">CLOSE [X]</div>
        </div>
        <div class="overlay-content">
            <img src="assets/louis_mas_bts_01.jpg" alt="Louis Mas">
            <div class="bio-text">
                <div class="bio-block">
                    <div class="bio-label">BIO</div>
                    <div class="bio-desc">
                        <div id="bio-en">
                            <p>Originally from Paris I worked in Amsterdam and now London where I am based. This allowed me to define my style through photography and especially the use of film.</p>
                            <p>I had the chance to collaborate with institutions like <a href="https://www.rbo.org.uk/" target="_blank">The Royal Opera House</a>, <a href="https://avantarte.com/" target="_blank">Avant Arte</a> and <a href="https://openhouse-magazine.com/" target="_blank">Open House Magazine</a>.</p>
                        </div>
                        <div id="bio-fr" style="display: none;">
                            <p>Basé à Londres j’ai eu l’occasion de travailler à Paris et Amsterdam et de définir mon style par la pratique de la photo en particulier en pellicule.</p>
                            <p>J’ai eu la chance de collaborer avec des institutions comme <a href="https://www.rbo.org.uk/" target="_blank">The Royal Opera House</a>, <a href="https://avantarte.com/" target="_blank">Avant Arte</a> ainsi que <a href="https://openhouse-magazine.com/" target="_blank">Open House Magazine</a>.</p>
                        </div>
                    </div>
                </div>
                <div class="bio-block">
                    <div class="bio-label">
                        <span id="guest-title-en">THE GUEST ROOM</span>
                        <span id="guest-title-fr" style="display: none;">LA CHAMBRE D'AMIS</span>
                    </div>
                    <div class="bio-desc">
                        <div id="guest-desc-en">
                            <p>The guest room is a place to give strength and visibility to the people that helped me along the way.</p>
                        </div>
                        <div id="guest-desc-fr" style="display: none;">
                            <p>La chambre d'amis est un lieu pour donner force et visibilité aux personnes qui m'ont aidé en chemin.</p>
                        </div>
                        <ul class="guest-list">
                            <li><a href="https://quantrill.ltd/" target="_blank">Aimee Quantrill</a></li>
                            <li><a href="https://essentielsetaccessoires.com" target="_blank">Essentiels et accessoires</a></li>
                            <li><a href="https://soimadouibrahim.com" target="_blank">Ibrahim Soimadou</a></li>
                            <li><a href="https://www.imdb.com/name/nm16940830/" target="_blank">Kevin Aubert</a></li>
                            <li><a href="https://linktr.ee/ManastLL" target="_blank">Manast LL'</a></li>
                            <li><a href="https://www.nicolas-vasseur.com/" target="_blank">Nicolas Vasseur</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="hover-preview"><img src="" alt="Preview"></div>

    <script>
        // CURSOR
        const cursor = document.getElementById('custom-cursor');
        document.addEventListener('mousemove', e => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
        document.querySelectorAll('a, .audio-toggle, .close-btn, .lang-option').forEach(el => {
            el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
            el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
        });

        // INFO OVERLAY
        const overlay = document.getElementById('infoOverlay');
        document.getElementById('openInfo').onclick = (e) => { e.preventDefault(); overlay.classList.add('active'); };
        document.getElementById('closeInfo').onclick = () => overlay.classList.remove('active');

        // LANGUAGE SWITCHER
        const btnEn = document.getElementById('btn-en');
        const btnFr = document.getElementById('btn-fr');
        const bioEn = document.getElementById('bio-en');
        const bioFr = document.getElementById('bio-fr');
        const guestTitleEn = document.getElementById('guest-title-en');
        const guestTitleFr = document.getElementById('guest-title-fr');
        const guestDescEn = document.getElementById('guest-desc-en');
        const guestDescFr = document.getElementById('guest-desc-fr');

        btnEn.addEventListener('click', () => {
            btnEn.classList.add('active'); btnFr.classList.remove('active');
            bioEn.style.display = 'block'; bioFr.style.display = 'none';
            guestTitleEn.style.display = 'inline'; guestTitleFr.style.display = 'none';
            guestDescEn.style.display = 'block'; guestDescFr.style.display = 'none';
        });

        btnFr.addEventListener('click', () => {
            btnFr.classList.add('active'); btnEn.classList.remove('active');
            bioFr.style.display = 'block'; bioEn.style.display = 'none';
            guestTitleFr.style.display = 'inline'; guestTitleEn.style.display = 'none';
            guestDescFr.style.display = 'block'; guestDescEn.style.display = 'none';
        });

        // HOVER PREVIEW
        const pv = document.getElementById('hover-preview');
        const pvImg = pv.querySelector('img');
        document.querySelectorAll('[data-thumb]').forEach(l => {
            l.addEventListener('mouseenter', () => {
                pvImg.src = `assets/${l.dataset.thumb}.jpg`;
                pv.style.display = 'block';
            });
            l.addEventListener('mousemove', e => {
                pv.style.left = (e.clientX + 20) + 'px';
                pv.style.top = (e.clientY + 20) + 'px';
            });
            l.addEventListener('mouseleave', () => pv.style.display = 'none');
        });

        // DATE
        setInterval(() => {
            document.getElementById('dateDisplay').textContent = new Date().toLocaleString('en-US', {weekday:'long', year:'numeric', month:'long', day:'numeric', hour:'2-digit', minute:'2-digit', hour12:false});
        }, 1000);

        // SMART LAZY LOADING (Mobile Speed Fix) WITH SMOOTH FADE IN
        document.addEventListener("DOMContentLoaded", function() {
            const lazyVideos = document.querySelectorAll('.lazy-video-container');

            if ("IntersectionObserver" in window) {
                const videoObserver = new IntersectionObserver(function(entries, observer) {
                    entries.forEach(function(entry) {
                        if (entry.isIntersecting) {
                            const container = entry.target;
                            const videoSrc = container.dataset.video;

                            // Only create iframe if it doesn't exist
                            if (videoSrc && !container.querySelector('iframe')) {
                                // Create iframe element programmatically
                                const iframe = document.createElement('iframe');
                                iframe.src = videoSrc;
                                iframe.setAttribute('allow', 'autoplay; fullscreen');
                                iframe.setAttribute('allowfullscreen', '');
                                iframe.style.position = 'absolute';
                                iframe.style.top = '0';
                                iframe.style.left = '0';
                                iframe.style.width = '100%';
                                iframe.style.height = '100%';
                                iframe.style.border = '0';
                                iframe.style.zIndex = '2'; // Sit on top of image

                                // Fade in on load
                                iframe.onload = function() {
                                    // Reduced delay for snappier feel (200ms vs 500ms)
                                    setTimeout(() => {
                                        iframe.classList.add('loaded');
                                        // Fix: Fade out the thumbnail image once video is ready to prevent bleed-through
                                        const img = container.querySelector('img');
                                        if (img) {
                                            setTimeout(() => {
                                                img.style.opacity = '0';
                                            }, 200);
                                        }
                                    }, 200);
                                };

                                container.appendChild(iframe);
                            }
                            observer.unobserve(container);
                        }
                    });
                }, { rootMargin: "200px" });

                lazyVideos.forEach(function(video) {
                    videoObserver.observe(video);
                });
            }
        });
    </script>
</body>
</html>
